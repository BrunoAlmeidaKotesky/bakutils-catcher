function w(n){return n&&n instanceof Promise}function y(n){return typeof n=="function"||n instanceof Function}const o=n=>typeof n=="function"?n():n;function l(n,t){return(i,c,a)=>{const{value:b}=a;return t||(t=n,n=void 0),a.value=function(...p){try{const r=b.apply(this,p);return w(r)?r.catch(s=>{if(y(t)&&(n===void 0||s instanceof n))return t.call(null,s,this,...p);throw s}):r}catch(r){if(y(t)&&(n===void 0||r instanceof n))return t.call(null,r,this,...p);throw r}},a}}function k(n,t){return l(n,t)}function N(n){return l(n)}function O(n){return{type:"ok",value:n,unwrap:()=>n,unwrapOr:()=>n,unwrapOrElse:()=>n,isErr:()=>!1,isOk:()=>!0,toOption:()=>u(n),flatMap:t=>t(n),match:t=>t.Ok(n),map:t=>{try{return O(t(n))}catch(i){return f(i)}},flatMapAsync:async t=>t(n)}}function f(n){return{type:"error",error:n,unwrap:()=>{throw n},unwrapOr:t=>t,unwrapOrElse:t=>t(n),isErr:()=>!0,isOk:()=>!1,toOption:()=>e,toJSON:()=>{throw n},flatMap:()=>f(n),match:t=>t.Err(n),map:t=>this,flatMapAsync:async()=>f(n)}}function S(n){return n&&(n.type==="ok"&&"value"in n||n.type==="error"&&"error"in n)}function m(n){return n==null?!1:typeof n=="object"&&!!n&&"type"in n&&n.type==="some"||n.type==="none"}function h(n){if(n==null)throw new Error("Some() cannot be called with null or undefined");return{type:"some",value:n,unwrap:()=>n,unwrapOrU:()=>n,unwrapOr:()=>n,isSome:()=>!0,isNone:()=>!1,map:t=>h(t(n)),flatMap:t=>t(n),flatMapAsync:async t=>t(n),okOr:t=>O(n),mapOr:(t,i)=>{const c=u(t(n));return c.isNone()?u(o(i)):c},flatten:()=>{if(m(n)&&n.isSome())return n;throw new Error("Cannot flatten a non-option value")},match:t=>t.Some(n),toJSON:()=>n,clone:()=>structuredClone(this)}}const e={type:"none",unwrap:()=>{throw new Error("Cannot unwrap None")},unwrapOr:n=>o(n),unwrapOrU:()=>{},isSome:()=>!1,isNone:()=>!0,map:()=>e,flatMap:n=>e,flatMapAsync:async n=>e,okOr:n=>f(o(n)),mapOr:(n,t)=>u(o(t)),toJSON:()=>null,flatten:()=>e,match:n=>n.None(),clone:()=>e};Object.freeze(e);function u(n){try{const t=o(n);return t==null?e:h(t)}catch(t){return console.error(t),e}}class d{constructor(t,i){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=t,this.value=i}match(t){return t[this.type](this.value)}is(t){return this.type===t}}function A(n,t){return new d(n,t)}export{o as BAKUtilsGetFnValue,y as BAKUtilsIsFunction,w as BAKUtilsIsPromise,k as Catch,N as DefaultCatch,f as Err,e as None,O as Ok,d as OneOfVariant,u as Option,h as Some,A as createOneOf,m as isOption,S as isResult};
